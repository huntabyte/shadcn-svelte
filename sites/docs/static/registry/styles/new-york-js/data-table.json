{
	"name": "data-table",
	"type": "registry:ui",
	"dependencies": [],
	"registryDependencies": [],
	"files": [
		{
			"name": "data-table.svelte.js",
			"content": "import { createTable, } from \"@tanstack/table-core\";\n/**\n * Creates a reactive TanStack table object for Svelte.\n * @param options Table options to create the table with.\n * @returns A reactive table object.\n * @example\n * ```svelte\n * <script>\n *   const table = createSvelteTable({ ... })\n * </script>\n *\n * <table>\n *   <thead>\n *\t {#each table.getHeaderGroups() as headerGroup}\n *\t   <tr>\n *\t\t {#each headerGroup.headers as header}\n *\t\t   <th colspan={header.colSpan}>\n *\t\t \t   <FlexRender content={header.column.columnDef.header} context={header.getContext()} />\n *\t\t \t </th>\n *\t\t {/each}\n *\t   </tr>\n *\t {/each}\n *   </thead>\n * \t <!-- ... -->\n * </table>\n * ```\n */\nexport function createSvelteTable(options) {\n\tconst resolvedOptions = mergeObjects({\n\t\tstate: {},\n\t\tonStateChange() { },\n\t\trenderFallbackValue: null,\n\t\tmergeOptions: (defaultOptions, options) => {\n\t\t\treturn mergeObjects(defaultOptions, options);\n\t\t},\n\t}, options);\n\tconst table = createTable(resolvedOptions);\n\tlet state = $state(table.initialState);\n\tfunction updateOptions() {\n\t\ttable.setOptions((prev) => {\n\t\t\treturn mergeObjects(prev, options, {\n\t\t\t\tstate: mergeObjects(state, options.state || {}),\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\tonStateChange: (updater) => {\n\t\t\t\t\tif (updater instanceof Function)\n\t\t\t\t\t\tstate = updater(state);\n\t\t\t\t\telse\n\t\t\t\t\t\tstate = mergeObjects(state, updater);\n\t\t\t\t\toptions.onStateChange?.(updater);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\tupdateOptions();\n\t$effect.pre(() => {\n\t\tupdateOptions();\n\t});\n\treturn table;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function mergeObjects(...sources) {\n\tconst target = {};\n\tfor (let i = 0; i < sources.length; i++) {\n\t\tlet source = sources[i];\n\t\tif (typeof source === \"function\")\n\t\t\tsource = source();\n\t\tif (source) {\n\t\t\tconst descriptors = Object.getOwnPropertyDescriptors(source);\n\t\t\tfor (const key in descriptors) {\n\t\t\t\tif (key in target)\n\t\t\t\t\tcontinue;\n\t\t\t\tObject.defineProperty(target, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget() {\n\t\t\t\t\t\tfor (let i = sources.length - 1; i >= 0; i--) {\n\t\t\t\t\t\t\tlet s = sources[i];\n\t\t\t\t\t\t\tif (typeof s === \"function\")\n\t\t\t\t\t\t\t\ts = s();\n\t\t\t\t\t\t\tconst v = (s || {})[key];\n\t\t\t\t\t\t\tif (v !== undefined)\n\t\t\t\t\t\t\t\treturn v;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n}\n",
			"target": "data-table/data-table.svelte.js",
			"type": "registry:ui"
		},
		{
			"name": "flex-render.svelte",
			"content": "<script lang=\"ts\" module>\n\timport type { CellContext, ColumnDefTemplate, HeaderContext } from \"@tanstack/table-core\";\n\timport {\n\t\tRenderComponentConfig,\n\t\tRenderSnippetConfig,\n\t} from \"$lib/registry/new-york/ui/data-table/render-helpers.js\";\n\ttype TData = unknown;\n\ttype TValue = unknown;\n\ttype TContext = unknown;\n</script>\n\n<script\n\tlang=\"ts\"\n\tgenerics=\"TData, TValue, TContext extends HeaderContext<TData, TValue> | CellContext<TData, TValue>\"\n>\n\ttype Props = {\n\t\t/** The cell or header field of the current cell's column definition. */\n\t\tcontent?: TContext extends HeaderContext<TData, TValue>\n\t\t\t? ColumnDefTemplate<HeaderContext<TData, TValue>>\n\t\t\t: TContext extends CellContext<TData, TValue>\n\t\t\t\t? ColumnDefTemplate<CellContext<TData, TValue>>\n\t\t\t\t: never;\n\t\t/** The result of the `getContext()` function of the header or cell */\n\t\tcontext: TContext;\n\t};\n\n\tlet { content, context }: Props = $props();\n</script>\n\n{#if typeof content === \"string\"}\n\t{content}\n{:else if content instanceof Function}\n\t<!-- It's unlikely that a CellContext will be passed to a Header -->\n\t<!-- eslint-disable-next-line @typescript-eslint/no-explicit-any -->\n\t{@const result = content(context as any)}\n\t{#if result instanceof RenderComponentConfig}\n\t\t{@const { component: Component, props } = result}\n\t\t<Component {...props} />\n\t{:else if result instanceof RenderSnippetConfig}\n\t\t{@const { snippet, params } = result}\n\t\t{@render snippet(params)}\n\t{:else}\n\t\t{result}\n\t{/if}\n{/if}\n",
			"target": "data-table/flex-render.svelte",
			"type": "registry:ui"
		},
		{
			"name": "index.js",
			"content": "export { default as FlexRender } from \"./flex-render.svelte\";\nexport { renderComponent, renderSnippet } from \"./render-helpers.js\";\nexport { createSvelteTable } from \"./data-table.svelte.js\";\n",
			"target": "data-table/index.js",
			"type": "registry:ui"
		},
		{
			"name": "render-helpers.js",
			"content": "/**\n * A helper class to make it easy to identify Svelte components in\n * `columnDef.cell` and `columnDef.header` properties.\n *\n * > NOTE: This class should only be used internally by the adapter. If you're\n * reading this and you don't know what this is for, you probably don't need it.\n *\n * @example\n * ```svelte\n * {@const result = content(context as any)}\n * {#if result instanceof RenderComponentConfig}\n *   {@const { component: Component, props } = result}\n *   <Component {...props} />\n * {/if}\n * ```\n */\nexport class RenderComponentConfig {\n\tcomponent;\n\tprops;\n\tconstructor(component, props) {\n\t\tthis.component = component;\n\t\tthis.props = props;\n\t}\n}\n/**\n * A helper class to make it easy to identify Svelte Snippets in `columnDef.cell` and `columnDef.header` properties.\n *\n * > NOTE: This class should only be used internally by the adapter. If you're\n * reading this and you don't know what this is for, you probably don't need it.\n *\n * @example\n * ```svelte\n * {@const result = content(context as any)}\n * {#if result instanceof RenderSnippetConfig}\n *   {@const { snippet, params } = result}\n *   {@render snippet(params)}\n * {/if}\n * ```\n */\nexport class RenderSnippetConfig {\n\tsnippet;\n\tparams;\n\tconstructor(snippet, params) {\n\t\tthis.snippet = snippet;\n\t\tthis.params = params;\n\t}\n}\n/**\n * A helper function to help create cells from Svelte components through ColumnDef's `cell` and `header` properties.\n *\n * This is only to be used with Svelte Components - use `renderSnippet` for Svelte Snippets.\n *\n * @param component A Svelte component\n * @param props The props to pass to `component`\n * @returns A `RenderComponentConfig` object that helps svelte-table know how to render the header/cell component.\n * @example\n * ```ts\n * // +page.svelte\n * const defaultColumns = [\n *   columnHelper.accessor('name', {\n *\t header: header => renderComponent(SortHeader, { label: 'Name', header }),\n *   }),\n *   columnHelper.accessor('state', {\n *\t header: header => renderComponent(SortHeader, { label: 'State', header }),\n *   }),\n * ]\n * ```\n * @see {@link https://tanstack.com/table/latest/docs/guide/column-defs}\n */\nexport function renderComponent(component, props) {\n\treturn new RenderComponentConfig(component, props);\n}\n/**\n * A helper function to help create cells from Svelte Snippets through ColumnDef's `cell` and `header` properties.\n *\n * The snippet must only take one parameter.\n *\n * This is only to be used with Snippets - use `renderComponent` for Svelte Components.\n *\n * @param snippet\n * @param params\n * @returns - A `RenderSnippetConfig` object that helps svelte-table know how to render the header/cell snippet.\n * @example\n * ```ts\n * // +page.svelte\n * const defaultColumns = [\n *   columnHelper.accessor('name', {\n *\t cell: cell => renderSnippet(nameSnippet, { name: cell.row.name }),\n *   }),\n *   columnHelper.accessor('state', {\n *\t cell: cell => renderSnippet(stateSnippet, { state: cell.row.state }),\n *   }),\n * ]\n * ```\n * @see {@link https://tanstack.com/table/latest/docs/guide/column-defs}\n */\nexport function renderSnippet(snippet, params) {\n\treturn new RenderSnippetConfig(snippet, params);\n}\n",
			"target": "data-table/render-helpers.js",
			"type": "registry:ui"
		}
	]
}