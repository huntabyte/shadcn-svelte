{
	"name": "chart-bar-active",
	"type": "registry:block",
	"devDependencies": [
		"d3-scale@^4.0.2",
		"layerchart@2.0.0-next.6",
		"@lucide/svelte@^0.482.0"
	],
	"registryDependencies": [
		"card",
		"chart"
	],
	"files": [
		{
			"name": "chart-bar-active.svelte",
			"content": "<script lang=\"ts\">\n\timport * as Card from \"$lib/registry/ui/card/index.js\";\n\timport * as Chart from \"$lib/registry/ui/chart/index.js\";\n\timport { scaleBand } from \"d3-scale\";\n\timport { Bar, BarChart, type ChartContextValue } from \"layerchart\";\n\timport TrendingUpIcon from \"@lucide/svelte/icons/trending-up\";\n\timport { cubicInOut } from \"svelte/easing\";\n\n\tconst chartData = [\n\t\t{ browser: \"chrome\", visitors: 187, color: \"var(--color-chrome)\" },\n\t\t{ browser: \"safari\", visitors: 200, color: \"var(--color-safari)\" },\n\t\t{ browser: \"firefox\", visitors: 275, color: \"var(--color-firefox)\" },\n\t\t{ browser: \"edge\", visitors: 173, color: \"var(--color-edge)\" },\n\t\t{ browser: \"other\", visitors: 90, color: \"var(--color-other)\" },\n\t];\n\n\tconst chartConfig = {\n\t\tvisitors: { label: \"Visitors\" },\n\t\tchrome: { label: \"Chrome\", color: \"var(--chart-1)\" },\n\t\tsafari: { label: \"Safari\", color: \"var(--chart-2)\" },\n\t\tfirefox: { label: \"Firefox\", color: \"var(--chart-3)\" },\n\t\tedge: { label: \"Edge\", color: \"var(--chart-4)\" },\n\t\tother: { label: \"Other\", color: \"var(--chart-5)\" },\n\t} satisfies Chart.ChartConfig;\n\n\tlet context = $state<ChartContextValue>();\n</script>\n\n<Card.Root>\n\t<Card.Header>\n\t\t<Card.Title>Bar Chart - Active</Card.Title>\n\t\t<Card.Description>January - June 2024</Card.Description>\n\t</Card.Header>\n\t<Card.Content>\n\t\t<Chart.Container config={chartConfig}>\n\t\t\t<BarChart\n\t\t\t\tbind:context\n\t\t\t\tdata={chartData}\n\t\t\t\tx=\"browser\"\n\t\t\t\tc=\"color\"\n\t\t\t\ty=\"visitors\"\n\t\t\t\tcRange={chartData.map((c) => c.color)}\n\t\t\t\txScale={scaleBand().padding(0.25)}\n\t\t\t\taxis=\"x\"\n\t\t\t\trule={false}\n\t\t\t\tprops={{\n\t\t\t\t\tbars: {\n\t\t\t\t\t\tstroke: \"none\",\n\t\t\t\t\t\tradius: 8,\n\t\t\t\t\t\trounded: \"all\", // use the height of the chart to animate the bars\n\t\t\t\t\t\tinitialY: context?.height,\n\t\t\t\t\t\tinitialHeight: 0,\n\t\t\t\t\t\tmotion: {\n\t\t\t\t\t\t\ty: { type: \"tween\", duration: 500, easing: cubicInOut },\n\t\t\t\t\t\t\theight: { type: \"tween\", duration: 500, easing: cubicInOut },\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\txAxis: {\n\t\t\t\t\t\tformat: (d) => chartConfig[d as keyof typeof chartConfig].label,\n\t\t\t\t\t},\n\t\t\t\t\thighlight: { area: { fill: \"none\" } },\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{#snippet tooltip()}\n\t\t\t\t\t<Chart.Tooltip hideLabel nameKey=\"visitors\" />\n\t\t\t\t{/snippet}\n\t\t\t\t{#snippet marks({ getBarsProps, visibleSeries })}\n\t\t\t\t\t{@const baseBarProps = getBarsProps(visibleSeries[0], 0)}\n\t\t\t\t\t{#each chartData as data, i (i)}\n\t\t\t\t\t\t{#if i === 2}\n\t\t\t\t\t\t\t<!-- The \"active\" bar -->\n\t\t\t\t\t\t\t<Bar\n\t\t\t\t\t\t\t\t{...baseBarProps}\n\t\t\t\t\t\t\t\tmotion=\"tween\"\n\t\t\t\t\t\t\t\tfill={data.color}\n\t\t\t\t\t\t\t\t{data}\n\t\t\t\t\t\t\t\tfillOpacity={0.8}\n\t\t\t\t\t\t\t\tstroke={data.color}\n\t\t\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\t\t\tstroke-dasharray={4}\n\t\t\t\t\t\t\t\tstroke-dashoffset={4}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Bar {...baseBarProps} fill={data.color} {data} motion=\"tween\" />\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{/each}\n\t\t\t\t{/snippet}\n\t\t\t</BarChart>\n\t\t\t<!-- todo -->\n\t\t</Chart.Container>\n\t</Card.Content>\n\t<Card.Footer>\n\t\t<div class=\"flex w-full items-start gap-2 text-sm\">\n\t\t\t<div class=\"grid gap-2\">\n\t\t\t\t<div class=\"flex items-center gap-2 font-medium leading-none\">\n\t\t\t\t\tTrending up by 5.2% this month <TrendingUpIcon class=\"size-4\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-muted-foreground flex items-center gap-2 leading-none\">\n\t\t\t\t\tShowing total visitors for the last 6 months\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</Card.Footer>\n</Card.Root>\n",
			"type": "registry:block",
			"target": "chart-bar-active.svelte"
		}
	],
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json"
}